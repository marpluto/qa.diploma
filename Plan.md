# План автоматизации

## Перечень автоматизируемых сценариев
- **Тестирование сервиса платежей Payment Gate**
1. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями*.
   
    **Ожидание:** Появляется сообщение "Операция одобрена банком". Статус оплаты `APPROVED`.


2. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4442`, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями.
   
    **Ожидание:** Появляется сообщение "Банк отказал в проведении операции". Статус оплаты `DECLINED`.


3. **Данные:** Поле `Номер карты` заполнено значением, для которого нет предопределенного ответа в базе, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями.

   **Ожидание:** Операция отклонена.


4. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Месяц` заполнено значением текущего месяца, поле `Год` заполнено значением текущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение "Операция одобрена банком". Статус оплаты `APPROVED`.


5. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Месяц` заполнено значением предыдущего нынешнему месяца, поле `Год` заполнено значением текущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение об истечении срока действия карты.


6. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Год` заполнено значением предыдущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение об истечении срока действия карты.


7. **Данные:** Все поля не заполнены, нажимается кнопка `Продолжить`.

   **Ожидание:** Появляется сообщениие о том, что необходимо заполнить поля.


8. **Данные:** Поле `Номер карты` заполнено значением с 15 символами. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Номер карты`.


9. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Владелец` заполнено кириллицей. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Владелец`.


10. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Владелец` заполнено одним словом (латиницей). Остальные поля заполнены валидными значениями.
**Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Владелец`.


11. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `CVC/CVV` заполнено двумя цифрами. Остальные поля заполнены валидными значениями.
**Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `CVC/CVV`.


12. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `CVC/CVV` заполнено одной цифрой. Остальные поля заполнены валидными значениями.
**Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `CVC/CVV`.

- **Тестирование кредитного сервиса Credit Gate**
1. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями*.

   **Ожидание:** Появляется сообщение "Операция одобрена банком". Статус оплаты `APPROVED`.


2. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4442`, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями.

   **Ожидание:** Появляется сообщение "Банк отказал в проведении операции". Статус оплаты `DECLINED`.


3. **Данные:** Поле `Номер карты` заполнено значением, для которого нет предопределенного ответа в базе, поля `Месяц`, `Год`, `Владелец`, `CVC/CVV` заполнены валидными значениями.

   **Ожидание:** Операция отклонена.


4. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Месяц` заполнено значением текущего месяца, поле `Год` заполнено значением текущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение "Операция одобрена банком". Статус оплаты `APPROVED`.


5. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Месяц` заполнено значением предыдущего нынешнему месяца, поле `Год` заполнено значением текущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение об истечении срока действия карты.


6. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Год` заполнено значением предыдущего года. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение об истечении срока действия карты.


7. **Данные:** Все поля не заполнены, нажимается кнопка `Продолжить`.

   **Ожидание:** Появляется сообщениие о том, что необходимо заполнить поля.


8. **Данные:** Поле `Номер карты` заполнено значением с 15 символами. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Номер карты`.


9. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Владелец` заполнено кириллицей. Остальные поля заполнены валидными значениями.

   **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Владелец`.


10. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `Владелец` заполнено одним словом (латиницей). Остальные поля заполнены валидными значениями.
    **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `Владелец`.


11. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `CVC/CVV` заполнено двумя цифрами. Остальные поля заполнены валидными значениями.
    **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `CVC/CVV`.


12. **Данные:** Поле `Номер карты` заполнено значением `4444 4444 4444 4441`, поле `CVC/CVV` заполнено одной цифрой. Остальные поля заполнены валидными значениями.
    **Ожидание:** Появляется сообщение о неверном формате введенных данных в поле `CVC/CVV`.

<details><summary>*Валидные значения</summary>

Поскольку в задании не обозначаются технические требования к полям формы, валидными значениями будем считать те, которые соответствуют общепринятым требованиям к банковским картам:

- Поле `Номер карты` состоит из 12-ти цифр.
- Поля `Месяц` и `Год` обозначают срок, до которого карта остается действительной, включая указанный месяц. Заполняется в формате ММ и ГГ соответственно.
- Поле `Владелец` заполняется латиницей и состоит из Имени и Фамилии.
- Поле `CVC/CVV` состоит из 3-х цифр.
</details>

## Перечень используемых инструментов
1. IntelliJ IDEA для создания, редактирования и оганизации проекта, запуска SUT, написания автотестов на языке Java (версия 11) и их запуска.
2. Gradle для автоматизации сборки проекта и управления зависимостями.
3. JUnit5 для написания автотестов и их запуска.
4. Docker для настройки и запуска контейнеров c MySQL, с PostgreSQL и эмулятором банковских сервисов.
5. Docker Compose для мультиконтейнерного запуска и экономии времени на конфигурацию контейнеров.
6. Selenide для написания UI автотестов с использованием CSS селекторов.
7. Паттерн Page Object при написании автотестов для оптимизированной и структурированной организации проекта.
8. Lombok для быстрой генерации кострукторов, геттеров, сеттеров и сокращения времени работы над написанием автотестов.
9. Библиотека DbUtils для упрощения написания тестов с запросами в СУБД
10. Allure для создания и оформления репортов.
11. Git для хранения истории проекта.
12. GitHub для удаленного хранения проекта и отчетов.

## Перечень и описание возможных рисков при автоматизации
1. Риск возникновения ошибок при настройке тестового окружения.
2. Риск возникновения сложностей при определении селекторов для UI-тестирования (отсутствие data-селекторов).
3. Риск несоответствия работы SUT заявленному функционалу.

## Интервальная оценка с учётом рисков в часах
1. Подготовка и настройка тестового окружения: 4 часа.
2. Написание автотестов, прогон и отладка тестов: 16 часов.
3. Репортинг и подготовка отчетов об автоматизации: 4 часа.

## План сдачи работ
1. Подготовка и настройка тестового окружения: 2 ноября.
2. Написание автотестов, прогон и отладка тестов: 9 ноября.
3. Репортинг и подготовка отчетов об автоматизации: 12 ноября.
